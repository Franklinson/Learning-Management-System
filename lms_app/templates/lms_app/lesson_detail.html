{% extends "lms_app/base.html" %}

{% block title %}{{ lesson.title }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>{{ lesson.title }}</h1>
    <div>
        {% if lesson.course.instructor == user or user.is_superuser %}
            <a href="{% url 'lesson_update' pk=lesson.pk %}" class="btn btn-warning me-2">Edit Lesson</a>
            <a href="{% url 'lesson_delete' pk=lesson.pk %}" class="btn btn-danger">Delete Lesson</a>
        {% endif %}
    </div>
</div>

<p class="lead"><strong>Course:</strong> <a href="{% url 'course_detail' pk=lesson.course.pk %}">{{ lesson.course.title }}</a></p>
<p><strong>Order:</strong> {{ lesson.order }}</p>

<div class="card card-body mb-4">
    <h3 class="card-title">Lesson Content</h3>
    <div class="card-text">
        {{ lesson.content|safe }}
    </div>
</div>

<div class="mt-4">
    <a href="{% url 'course_detail' pk=lesson.course.pk %}" class="btn btn-secondary">Back to Course</a>
</div>
{% endblock %}
